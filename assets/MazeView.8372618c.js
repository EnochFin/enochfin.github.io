import{d as R,r as z,b as W,o as _,e as x,c as M,f as B,u as H,g as I,F as G,w as D,h as v,i as K,m as O,_ as Q,n as S,j as U}from"./index.ef3d15e7.js";const X=R({__name:"Maze",props:["width","height"],setup(C){const c=C,b=z(),f=z({x:0,y:0,width:c.width,height:c.height,fill:"darkgray",stroke:"black",strokeWidth:4});return(y,d)=>{const r=W("v-rect");return _(),x(r,{ref_key:"maze",ref:b,config:f.value,"data-id":"maze-component"},null,8,["config"])}}}),Y=R({__name:"Cell",props:["id","x","y","visited","walls","lineX","lineY"],setup(C){const c=C,b=c.visited,f=c.walls,y=10,d=20,r=y+c.x*d,u=y+c.y*d,w=r+d,h=u+d,V=c.lineX!=0&&c.lineY!=0,n=(f&1)==1,E=(f&2)==2,A=(f&4)==4,m=(f&8)==8,k="black",g="orange",N={points:[r,u,r,h],stroke:k,strokeWidth:2},L={points:[w,u,w,h],stroke:k,strokeWidth:2},P={points:[r,h,w,h],stroke:k,strokeWidth:2},T={points:[r,u,w,u],stroke:k,strokeWidth:2},$={points:[(r+w)/2,(u+h)/2,c.lineX,c.lineY],stroke:g,strokeWidth:2},F={x:r+(w-r)*.7,y:u+(h-u)*.3,radius:3,fill:b?"green":"red",stroke:k,strokeWidth:2};return(J,q)=>{const p=W("v-line"),e=W("v-circle");return _(),M(G,null,[n?(_(),x(p,{key:0,config:N})):B("",!0),E?(_(),x(p,{key:1,config:L})):B("",!0),m?(_(),x(p,{key:2,config:P})):B("",!0),A?(_(),x(p,{key:3,config:T})):B("",!0),H(V)?(_(),x(p,{key:4,config:$})):B("",!0),I(e,{config:F})],64)}}}),Z=R({__name:"Window",props:["width","height"],setup(C){const c=C,b=z(),f=c.width,y=c.height,d=10,r=d**2,u=e=>e&14,w=e=>e&13,h=e=>e&11,V=e=>e&7,n=z(Array()),E=()=>{let e=Array(r);for(let t=0;t<r;t++){let o=Math.floor(t/d),a=t%d;e[t]={id:t,x:a,y:o,visited:!1,walls:15,lineX:0,lineY:0}}n.value=e.slice()},A={width:f,height:y},m=z({text:"Hello",x:50,y:300}),k=()=>{const e=m.value;e.text="initializing!",m.value=e,q()},g=(e,t)=>e+t*d,N=e=>Math.floor(Math.random()*e.length),L=(e,t)=>{let o=n.value;o[e].visited=t,o[e].id=o[e].id+r},P=(e,...t)=>{console.log(e,t)},T=(e,t,o,a=!1)=>{let i=Array();if(e>0){const s=g(e-1,t),l=n.value[s];l.visited==o&&(!a||u(l.walls)==l.walls)&&(i.push(l),P("added left",l))}if(e<d-1){const s=g(e+1,t),l=n.value[s];l.visited==o&&(!a||w(l.walls)==l.walls)&&(i.push(l),console.log("added right"),console.log(l))}if(t>0){const s=g(e,t-1),l=n.value[s];l.visited==o&&(!a||h(l.walls)==l.walls)&&(i.push(l),console.log("added top"),console.log(l))}if(t<d-1){const s=g(e,t+1),l=n.value[s];l.visited==o&&(!a||V(l.walls)==l.walls)&&(i.push(l),console.log("added bottom"),console.log(l))}return i},$=(e,t,o,a)=>{const i=n.value[g(e,t)],s=n.value[g(o,a)];o<e?(console.log("break left"),i.walls=u(i.walls),s.walls=w(s.walls)):o>e?(console.log("break right"),i.walls=w(i.walls),s.walls=u(s.walls)):a<t?(console.log("break top"),i.walls=h(i.walls),s.walls=V(s.walls)):a>t&&(console.log("break bottom"),i.walls=V(i.walls),s.walls=h(s.walls)),console.log(e,t,o,a),n.value[g(e,t)]=i,n.value[g(o,a)]=s},F=()=>{let e=n.value[0],t=n.value[n.value.length-1];e.walls=0,e.id+=100,t.walls=0,t.id+=100,n.value[0]=e,n.value[n.value.length-1]=t},J=()=>{for(let e=0;e<n.value.length;e++)L(e,!1)},q=()=>{p(0,0);const e=n.value.slice();n.value=e;const t=m.value;t.text="done!",m.value=t},p=(e,t)=>{for(L(g(e,t),!0);;){let o=T(e,t,!1);if(o.length==0)return;const a=N(o),i=o[a];o.splice(a,1);const s=i.x,l=i.y;$(e,t,s,l),p(s,l)}};return(e,t)=>{const o=W("v-text"),a=W("v-layer"),i=W("v-stage");return _(),M("div",{ref_key:"win",ref:b,class:"window-comp","data-id":"window-component"},[I(i,{config:A,class:"window-stage"},{default:D(()=>[I(a,null,{default:D(()=>[I(X,{width:H(f),height:H(y),cells:n.value},null,8,["width","height","cells"]),(_(!0),M(G,null,K(n.value,s=>(_(),x(Y,O({key:s.id},s),null,16))),128)),I(o,{config:m.value},null,8,["config"])]),_:1})]),_:1}),v("ul",null,[v("li",null,[v("button",{onClick:k},"Break Walls")]),v("li",null,[v("button",{onClick:F},"Break Entrance and Exit")]),v("li",null,[v("button",{onClick:J},"Reset Cells Visited")]),v("li",null,[v("button",{onClick:E},"Reset Cells")])])],512)}}});const j=Q(Z,[["__scopeId","data-v-db8a9ae3"]]),ee={class:"maze-view","data-id":"maze-view"},le=R({__name:"MazeView",setup(C){const c=z({width:500,height:500});return(b,f)=>(_(),M("div",null,[v("div",ee,[I(j,S(U(c.value)),null,16)])]))}});export{le as default};
